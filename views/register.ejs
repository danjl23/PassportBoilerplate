<h1>Register</h1>
<%- include ('./partials/messages') %>
<form action="/register" method="POST">
    <div>
        <label for="name">Name</label>
        <input type="text" name="name" id="name" value ="<%= typeof name != 'undefined' ? name : '' %>" required>
    </div>
    <div>
        <label for="email">Email Address</label>
        <input type="email" name="email" id="email" value="<%= typeof email != 'undefined' ? email : '' %>" required>
    </div>
    <div>
        <label for="pass">Password</label>
        <input type="password" name="pass" id="pass" required>
    </div>
    <div>
        <label for="pass2">Confirm Password</label>
        <input type="password" name="pass2" id="pass2" required>
    </div>
    <button type="submit">Register</button>
</form>

<!--Sign in with Google-->
<% if (process.env.GOOGLE_ENABLED == 'true') { %>
    <a href="/google">Sign in with Google</a>
<% } %>

<a href="/login">Login</a>

<!--reCAPTCHA-->
<% if (process.env.CAPTCHA_ENABLED == 'true') { %>
    <%- captcha %>
<% } %>
<script>
    function cb(token) {
        var input = document.createElement('input')
        input.setAttribute('type', 'hidden')
        input.setAttribute('name', 'g-recaptcha-response')
        input.setAttribute('value', token)
        document.getElementsByTagName('form')[0].appendChild(input)
    }
</script>